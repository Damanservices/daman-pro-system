(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1738:function(e,a,t){Promise.resolve().then(t.bind(t,5691))},5691:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return u}});var s=t(7437),i=t(2265),n=t(8518),r=t.n(n),l=t(5236),o=t(516),c=t(303);let d=(0,l.C6)().length>0?(0,l.Mq)():(0,l.ZF)({apiKey:"AIzaSyBORhorAy5jWy8TElW_rMbkHNhfpoqjwOU",authDomain:"daman-system.firebaseapp.com",projectId:"daman-system",storageBucket:"daman-system.firebasestorage.app",messagingSenderId:"195543055982",appId:"1:195543055982:web:7a3e235745e991fa4db07f",databaseURL:"https://daman-system-default-rtdb.firebaseio.com/"}),m=(0,o.N8)(d);(0,c.v0)(d);let p="https://script.google.com/macros/s/AKfycbx_qqGy9F98XECEw7Dne7MnOtnFV6kJOCMyQqpT7TOvkgvBTMmXMl4z-A_dhl6xjp4rqw/exec";function u(){let[e,a]=(0,i.useState)("dashboard"),[t,n]=(0,i.useState)("light"),[l,c]=(0,i.useState)([]),[d,u]=(0,i.useState)([]),[_,h]=(0,i.useState)([]),[y,g]=(0,i.useState)([]),[x,b]=(0,i.useState)([]),[j,f]=(0,i.useState)([]),[D,v]=(0,i.useState)([]),[k,C]=(0,i.useState)([]),[S,N]=(0,i.useState)(!1),[E,I]=(0,i.useState)(""),[w,A]=(0,i.useState)({key:null,direction:"asc"}),[T,L]=(0,i.useState)([]),[W,R]=(0,i.useState)(null),[P,O]=(0,i.useState)(!1),[V,M]=(0,i.useState)("company"),[H,F]=(0,i.useState)({}),[G,q]=(0,i.useState)(!1),[B,U]=(0,i.useState)(""),[Y,z]=(0,i.useState)([{role:"ai",text:"Hello! I am your DAMAN AI Assistant. How can I help you today?"}]),[K,Z]=(0,i.useState)({calendar:!1,tasks:!1,history:!1}),[Q,X]=(0,i.useState)({}),[J,$]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=localStorage.getItem("daman-theme")||"light";n(e),document.documentElement.setAttribute("data-theme",e)},[]);let ee=(0,i.useCallback)(async()=>{N(!0),console.log("Fetching data from:",p);try{let e=[{action:"readCompanies",setter:c},{action:"readEmployees",setter:u},{action:"readCalendar",setter:h},{action:"readTasks",setter:g},{action:"readSmartActions",setter:b},{action:"readDailyReports",setter:f},{action:"readSchema",setter:v},{action:"readHistory",setter:C}];(await Promise.all(e.map(e=>fetch("".concat(p,"?action=").concat(e.action),{method:"GET",mode:"cors",redirect:"follow"}).then(e=>{if(!e.ok)throw Error("HTTP ".concat(e.status));return e.json()}).catch(a=>(console.error("Fetch error for ".concat(e.action,":"),a),{status:"error",message:a.message}))))).forEach((a,t)=>{"success"===a.status?e[t].setter(a.data):"error"===a.status&&console.warn("API Error for ".concat(e[t].action,":"),a.message)})}catch(e){console.error("Fetch error:",e),alert("Network Error: Could not connect to Google Apps Script. \n\n1. Ensure you have authorized the script. \n2. Check if the deployment URL is still active. \n3. Check CORS settings in your browser.")}finally{N(!1)}},[]);(0,i.useEffect)(()=>{ee();let e=[{path:"companies",setter:c},{path:"employees",setter:u},{path:"calendar",setter:h},{path:"tasks",setter:g},{path:"smartActions",setter:b},{path:"dailyReports",setter:f},{path:"history",setter:C}].map(e=>{let{path:a,setter:t}=e,s=(0,o.iH)(m,a);return(0,o.jM)(s,e=>{let a=e.val();a&&t(Object.entries(a).map(e=>{let[a,t]=e;return{id:a,...t}}))})});return()=>e.forEach(e=>e())},[ee]);let ea=(e,a)=>{let t={...H,[e]:a},s=e=>{if(!e)return null;if(e.includes("/")){let[a,t,s]=e.split("/");return new Date("".concat(s,"-").concat(t,"-").concat(a))}return new Date(e)},i=(e,a,i)=>{let n=t[e],r=t[a]||"1 Year";if(n&&r){let e=parseInt(r),a=s(n);if(a&&!isNaN(a.getTime())){let s=new Date(a);s.setFullYear(s.getFullYear()+e),t[i]=s.toISOString().split("T")[0]}}},n=(e,a,s)=>{let i=t[e];if(i){let e=new Date(i);isNaN(e.getTime())||(e.setDate(e.getDate()+a),t[s]=e.toISOString().split("T")[0])}};if(("License_Issue_Date"===e||"License_Duration"===e||"manual_durations"===e)&&i("License_Issue_Date","License_Duration","License_Expiry"),("Immigration_Issue_Date"===e||"Immigration_Duration"===e||"manual_durations"===e)&&i("Immigration_Issue_Date","Immigration_Duration","Immigration_Expiry"),("Ejari_Issue_Date"===e||"Ejari_Duration"===e||"manual_durations"===e)&&i("Ejari_Issue_Date","Ejari_Duration","Ejari_Expiry"),"Visa_Expiry"===e&&n("Visa_Expiry",60,"Visa_Last_Day"),"Labour_Card_Expiry"===e&&n("Labour_Card_Expiry",60,"Labour_Last_Day"),"Visa_Stamp_Expiry_Date"===e&&n("Visa_Stamp_Expiry_Date",60,"Visa_Stamp_Last_Date"),"company"===V){let e=new Date,a=[t.License_Expiry,t.Immigration_Expiry,t.Ejari_Expiry].filter(e=>e).map(e=>new Date(e));a.length>0&&(a.some(a=>a<e)?t.Status="Expired":a.some(a=>a-e<2592e6)?t.Status="Expiring Soon":t.Status="Active")}F(t)},et=async(e,a)=>{if("createEmployee"===e&&d.some(e=>e.Passport_No===a.Passport_No))return alert("Error: Employee with this passport number already exists."),!1;if("createCompany"===e&&l.some(e=>e.Company_Name===a.Company_Name))return alert("Error: Company with this name already exists."),!1;N(!0),console.log("Executing ".concat(e,"..."),a);let t=async(e,a)=>{try{let t={createCompany:"companies",createEmployee:"employees",createEvent:"calendar",createTask:"tasks",createDailyReport:"dailyReports",updateCompany:"companies",updateEmployee:"employees",updateSmartAction:"smartActions",deleteCompany:"companies",deleteEmployee:"employees",deleteEvent:"calendar"}[e];if(t){let s=(0,o.iH)(m,t);if(e.startsWith("create")){let e=(0,o.VF)(s);await (0,o.t8)(e,{...a,id:e.key,Created_At:new Date().toISOString()})}else if(e.startsWith("update")){let e=a.id||a.rowId;e&&await (0,o.t8)((0,o.iH)(m,"".concat(t,"/").concat(e)),a)}else if(e.startsWith("delete")){let e=a.id||a.rowId;e&&await (0,o.t8)((0,o.iH)(m,"".concat(t,"/").concat(e)),null)}}}catch(e){console.error("Firebase Sync Error:",e)}};a&&await t(e,a);let s="".concat(p,"?action=").concat(e);try{let t={method:a?"POST":"GET",mode:"cors",headers:{"Content-Type":"text/plain;charset=utf-8"},redirect:"follow"};a&&(t.body=JSON.stringify({...a,action:e}));let i=await fetch(s,t);if(!i.ok)throw Error("HTTP error! status: ".concat(i.status));let n=await i.json();if("success"===n.status)return!0;alert("Error: ".concat(n.message||"Action failed"))}catch(e){console.error("[Network Error]:",e),alert("Failed to send data to Google Sheets.\n\nPossible reasons:\n1. The script hasn't been authorized (Open Code.js and click Run).\n2. The request was blocked by a browser extension.\n3. CORS preflight failed (Check Console F12).")}finally{N(!1)}return!1},es=async e=>{e.preventDefault();let a="";switch(V){case"company":a="createCompany";break;case"employee":a="createEmployee";break;case"event":a="createEvent";break;case"task":a="createTask";break;case"smartAction":a="updateSmartAction";break;case"dailyReport":a="createDailyReport";break;case"schemaEntry":a="createSchemaField"}await et(a,H)&&O(!1)},ei=async()=>{if(!window.confirm("Delete ".concat(T.length," items?")))return;let e=d.filter(e=>T.includes(e.id));await et("bulkDeleteEmployees",{ids:e})&&L([])},en=async()=>{confirm("Initialize sheets schema?")&&await et("setup",{})},er=async()=>{confirm("Add sample companies and employees for testing?")&&await et("seedTestData",{})},el=e=>{let a="asc";w.key===e&&"asc"===w.direction&&(a="desc"),A({key:e,direction:a})},eo=(0,i.useMemo)(()=>{let a=[];switch(e){case"companies":a=l;break;case"employees":a=d;break;case"calendar":a=_;break;case"tasks":a=y;break;case"smartactions":a=x;break;case"dailyreports":a=j;break;case"schema":a=D;break;case"history":a=k;break;default:a=[]}return W&&"employees"===e&&(a=a.filter(e=>e.Company_Name===W.Company_Name)),a=a.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(E.toLowerCase()))),w.key&&a.sort((e,a)=>e[w.key]<a[w.key]?"asc"===w.direction?-1:1:e[w.key]>a[w.key]?"asc"===w.direction?1:-1:0),a},[l,d,_,y,x,j,D,e,W,E,w]),ec=e=>{L(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},ed=async e=>{if(e&&e.preventDefault(),!B.trim())return;z(e=>[...e,{role:"user",text:B}]),U(""),N(!0);let a=await fetch("".concat(p,"?action=chatAI&message=").concat(encodeURIComponent(B)),{method:"GET",mode:"cors"}),t=await a.json();N(!1),"success"===t.status&&z(e=>[...e,{role:"ai",text:t.answer,recs:t.recommendations}])};return(0,s.jsxs)("div",{className:r().mainContainer,children:[(0,s.jsxs)("header",{className:r().topNav,children:[(0,s.jsxs)("div",{className:r().logoContainer,children:[(0,s.jsx)("div",{className:r().logoIcon,children:"\uD83D\uDEE1️"}),(0,s.jsx)("span",{className:r().logoText,children:"DAMAN PRO"})]}),(0,s.jsx)("nav",{className:r().menuTabs,children:["dashboard","companies","employees","calendar","tasks","history","smartactions","dailyreports","schema"].map(t=>(0,s.jsx)("button",{className:"".concat(r().tab," ").concat(e===t?r().activeTab:""),onClick:()=>{a(t),R(null),L([])},children:"dailyreports"===t?"Daily":"smartactions"===t?"A.I":t.charAt(0).toUpperCase()+t.slice(1)},t))}),(0,s.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,s.jsx)("button",{onClick:en,className:r().btnSecondary,style:{padding:"0.4rem"},children:"⚙️ Setup"}),(0,s.jsx)("button",{onClick:er,className:r().btnSecondary,style:{padding:"0.4rem"},children:"\uD83E\uDDEA Seed"}),(0,s.jsx)("button",{onClick:()=>{let e="light"===t?"dark":"light";n(e),localStorage.setItem("daman-theme",e),document.documentElement.setAttribute("data-theme",e)},className:r().tab,style:{fontSize:"1.2rem"},children:"light"===t?"\uD83C\uDF19":"☀️"}),(0,s.jsx)("div",{className:r().avatar,children:"A"})]})]}),(0,s.jsxs)("div",{className:r().toolsBar,children:[(0,s.jsx)("div",{className:r().searchWrapper,children:(0,s.jsx)("input",{type:"text",placeholder:"Search ".concat(e,"..."),className:r().searchBox,value:E,onChange:e=>I(e.target.value)})}),(0,s.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:["dashboard"!==e&&"smartactions"!==e&&(0,s.jsx)("button",{className:r().btnPrimary,onClick:()=>{M({companies:"company",employees:"employee",calendar:"event",tasks:"task",dailyreports:"dailyReport",schema:"schemaEntry"}[e]),F(W?{Company_Name:W.Company_Name}:{}),O(!0)},children:"+ Add New"}),T.length>0&&"employees"===e&&(0,s.jsxs)("button",{className:r().btnDanger,onClick:ei,children:["\uD83D\uDDD1️ Delete (",T.length,")"]})]})]}),(0,s.jsxs)("main",{className:"".concat(r().content," animate-fade"),children:["dashboard"===e&&(0,s.jsx)("div",{className:r().dashboardGrid,children:[{label:"Companies",val:l.length},{label:"Employees",val:d.length},{label:"Events",val:_.length},{label:"Tasks",val:y.length},{label:"Smart Actions",val:x.filter(e=>"Active"===e.Status).length}].map(e=>(0,s.jsxs)("div",{className:r().statCard,children:[(0,s.jsx)("div",{className:r().statLabel,children:e.label}),(0,s.jsx)("div",{className:r().statValue,children:e.val})]},e.label))}),"dashboard"!==e&&(0,s.jsxs)("div",{className:r().tableCard,children:[(0,s.jsx)("div",{className:r().tableHeader,children:(0,s.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,s.jsxs)("div",{className:r().columnPicker,children:[(0,s.jsx)("button",{className:r().btnSecondary,onClick:()=>$(!J),children:"\uD83D\uDCCA Columns"}),J&&(0,s.jsx)("div",{className:r().pickerContent,children:eo.length>0&&Object.keys(eo[0]).filter(e=>"id"!==e&&"rowId"!==e&&"cached"!==e).map(a=>{var t;return(0,s.jsxs)("label",{className:r().pickerItem,children:[(0,s.jsx)("input",{type:"checkbox",checked:(null===(t=Q[e])||void 0===t?void 0:t[a])!==!1,onChange:()=>{let t=Q[e]||{};X({...Q,[e]:{...t,[a]:!(!1!==t[a])}})}}),a.replace(/_/g," ")]},a)})})]})})}),(0,s.jsx)("div",{className:r().tableWrapper,children:(0,s.jsxs)("table",{className:r().dataTable,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{width:"40px"},children:(0,s.jsx)("input",{type:"checkbox",onChange:()=>{T.length===eo.length?L([]):L(eo.map(e=>e.id))},checked:T.length===eo.length&&eo.length>0})}),eo.length>0&&Object.keys(eo[0]).filter(e=>"id"!==e&&"rowId"!==e&&"cached"!==e).filter(a=>{var t;return(null===(t=Q[e])||void 0===t?void 0:t[a])!==!1}).map(e=>(0,s.jsxs)("th",{onClick:()=>el(e),style:{cursor:"pointer"},children:[e.replace(/_/g," ")," ",w.key===e?"asc"===w.direction?"▴":"▾":""]},e)),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsxs)("tbody",{children:[eo.map(a=>(0,s.jsxs)("tr",{className:T.includes(a.id)?r().rowSelected:"",children:[(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"checkbox",checked:T.includes(a.id),onChange:()=>ec(a.id)})}),Object.entries(a).filter(e=>{let[a]=e;return"id"!==a&&"rowId"!==a&&"cached"!==a}).filter(a=>{var t;let[s]=a;return(null===(t=Q[e])||void 0===t?void 0:t[s])!==!1}).map((e,a)=>{let[t,i]=e;return(0,s.jsx)("td",{children:"Status"===t?(0,s.jsx)("span",{className:"".concat(r().badge," ").concat("Active"===i||"Done"===i?r().badgeSuccess:"Expired"===i?r().badgeDanger:r().badgeWarning),children:String(i)}):String(i)},a)}),(0,s.jsxs)("td",{className:r().actionCell,children:[(0,s.jsx)("button",{className:r().btnAction,title:"Edit",onClick:()=>{M({companies:"company",employees:"employee",calendar:"event",tasks:"task",dailyreports:"dailyReport",schema:"schemaEntry"}[e]),F(a),O(!0)},children:"✏️"}),(0,s.jsx)("button",{className:r().btnAction,title:"Delete",onClick:async()=>{confirm("Are you sure you want to delete this record?")&&await et({companies:"deleteCompany",employees:"deleteEmployee",calendar:"deleteEvent"}[e]||"deleteEmployee",a)},children:"\uD83D\uDDD1️"})]})]},a.id)),0===eo.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"20",style:{textAlign:"center",padding:"2rem"},children:"No data found"})})]})]})})]})]}),P&&(0,s.jsx)("div",{className:r().modalOverlay,children:(0,s.jsxs)("div",{className:r().modalContent,children:[(0,s.jsxs)("h3",{children:["smartAction"===V?"Edit":"Add"," ",V?V.toUpperCase():"Entry"]}),(0,s.jsxs)("form",{onSubmit:es,style:{marginTop:"1rem"},children:[(0,s.jsx)("div",{className:r().formGrid,children:(()=>{let e=[];switch(V){case"company":e=["Company_Name","License_No","License_Place","License_Issue_Date","License_Duration","License_Expiry","Immigration_Issue_Date","Immigration_Duration","Immigration_Expiry","Ejari_Issue_Date","Ejari_Duration","Ejari_Expiry","Sponsor_Name","Signatory_Auth","Status"];break;case"employee":e=["Employee_Name","Company_Name","Residence_Status","Designation","Passport_No","Passport_Expiry","Visa_No","Visa_Expiry","Visa_Last_Day","Labour_Card_No","Labour_Card_Expiry","Labour_Last_Day","Emirates_ID_No","Emirates_ID_Expiry","Visa_Stamp","Visa_Stamp_Expiry_Date","Visa_Stamp_Last_Date","Status","Workflow_Stage"];break;case"event":e=["Event Name","Date","Duration","Description","Category","Status"];break;case"task":e=["Task Name","Priority","Due Date","Assigned To","Status","Company"];break;case"dailyReport":e=["Title","Description","Assigned_To","Related_Employee","Status","Due_Date"];break;case"schemaEntry":e=["Sheet","Field","Type","Required","Visible"];break;default:e=[]}let a=["License_Expiry","Immigration_Expiry","Ejari_Expiry","Visa_Last_Day","Labour_Last_Day","Visa_Stamp_Last_Date"];if(e=e.filter(e=>!a.includes(e)),"employee"===V&&"Outside"===H.Residence_Status){let a=["Employee_Name","Company_Name","Residence_Status","Designation","Passport_No","Passport_Expiry","Status","Workflow_Stage"];e=e.filter(e=>a.includes(e))}return e})().map(e=>"Company"===e&&W&&"employee"===V?null:"company"===V&&"License_Duration"===e?(0,s.jsx)("div",{className:r().formGroup,style:{gridColumn:"1 / -1"},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:H.manual_durations||!1,onChange:e=>ea("manual_durations",e.target.checked)}),"Edit Durations Manually (Default 1 Year)"]})},"manual_toggle"):"company"===V&&e.includes("_Duration")&&!H.manual_durations?null:(0,s.jsxs)("div",{className:r().formGroup,children:[(0,s.jsx)("label",{htmlFor:e,children:e.replace(/_/g," ")}),("Company_Name"===e||"Company"===e)&&"employee"===V?(0,s.jsxs)("select",{id:e,name:e,className:r().selectInput,value:H[e]||"",onChange:a=>ea(e,a.target.value),required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Company"}),l.map(e=>(0,s.jsx)("option",{value:e.Company_Name,children:e.Company_Name},e.id))]}):"Residence_Status"===e?(0,s.jsxs)("select",{id:e,name:e,className:r().selectInput,value:H[e]||"",onChange:a=>ea(e,a.target.value),required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Status"}),(0,s.jsx)("option",{value:"Inside",children:"Inside"}),(0,s.jsx)("option",{value:"Outside",children:"Outside"})]}):"Status"===e||"Auto Mode"===e||"Priority"===e||"Type"===e||e.includes("Duration")?(0,s.jsxs)("select",{id:e,name:e,className:r().selectInput,value:H[e]||(e.includes("Duration")?"1 Year":"Status"===e&&"company"===V?H.Status:""),onChange:a=>ea(e,a.target.value),required:!0,disabled:"Status"===e&&"company"===V,children:[(0,s.jsx)("option",{value:"",children:"Select..."}),"Status"===e&&["Active","Inactive","Pending","Done","Expired","Expiring Soon"].map(e=>(0,s.jsx)("option",{value:e,children:e},e)),"Auto Mode"===e&&["ON","OFF"].map(e=>(0,s.jsx)("option",{value:e,children:e},e)),"Priority"===e&&["High","Medium","Low"].map(e=>(0,s.jsx)("option",{value:e,children:e},e)),"Type"===e&&["text","number","email","date","select","checkbox"].map(e=>(0,s.jsx)("option",{value:e,children:e},e)),e.includes("Duration")&&["1 Year","2 Years","3 Years","5 Years"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}):"License_Issue_Date"===e?(0,s.jsx)("input",{type:"text",id:e,name:e,className:r().formInput,value:H[e]||"",placeholder:"dd/mm/yyyy",onChange:a=>ea(e,a.target.value),required:!0}):e.includes("_Date")||"Date"===e||"Due Date"===e||e.includes("Expiry")?(0,s.jsx)("input",{type:"date",id:e,name:e,className:r().formInput,value:H[e]||"",onChange:a=>ea(e,a.target.value),required:!0}):(0,s.jsx)("input",{type:"text",id:e,name:e,className:r().formInput,value:H[e]||"",placeholder:"License_Issue_Date"===e?"dd/mm/yyyy":"",required:"Phone"!==e&&"Email"!==e&&"Visible"!==e&&"Required"!==e&&"Status"!==e,disabled:"smartAction"===V&&"Action Name"===e||"schemaEntry"===V&&("Sheet"===e||"Field"===e),onChange:a=>ea(e,a.target.value)})]},e))}),(0,s.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[(0,s.jsx)("button",{type:"submit",className:r().btnPrimary,style:{flex:1},children:S?"Processing...":"Save"}),(0,s.jsx)("button",{type:"button",className:r().btnSecondary,style:{flex:1},onClick:()=>O(!1),children:"Cancel"})]})]})]})}),(0,s.jsxs)("div",{className:r().floatingAi,children:[G&&(0,s.jsxs)("div",{className:r().aiWindow,children:[(0,s.jsxs)("div",{className:r().aiHeader,children:[(0,s.jsx)("span",{children:"\uD83D\uDEE1️ DAMAN AI Assistant"}),(0,s.jsx)("button",{onClick:()=>q(!1),children:"\xd7"})]}),(0,s.jsxs)("div",{className:r().aiBody,children:[Y.map((e,a)=>(0,s.jsxs)("div",{className:"ai"===e.role?r().aiMsg:r().userMsg,children:[e.text,e.recs&&(0,s.jsx)("div",{className:r().aiRecs,children:e.recs.map((e,a)=>(0,s.jsx)("button",{onClick:()=>{U(e),ed()},children:e},a))})]},a)),S&&(0,s.jsx)("div",{className:r().aiMsg,children:"Analyzing data..."})]}),(0,s.jsxs)("form",{onSubmit:ed,className:r().aiInput,children:[(0,s.jsx)("input",{value:B,onChange:e=>U(e.target.value),placeholder:"Ask about expiries, trends..."}),(0,s.jsx)("button",{type:"submit",children:"Send"})]})]}),(0,s.jsx)("button",{className:r().aiToggle,onClick:()=>q(!G),children:"\uD83E\uDD16"})]}),(0,s.jsxs)("div",{className:r().floatingDock,children:[(0,s.jsx)("button",{onClick:()=>Z(e=>({...e,calendar:!e.calendar})),title:"Calendar",children:"\uD83D\uDCC5"}),(0,s.jsx)("button",{onClick:()=>Z(e=>({...e,tasks:!e.tasks})),title:"Tasks",children:"✅"}),(0,s.jsx)("button",{onClick:()=>Z(e=>({...e,history:!e.history})),title:"History",children:"\uD83D\uDCDC"})]}),K.calendar&&(0,s.jsxs)("div",{className:r().floatingWindow,children:[(0,s.jsxs)("h4",{children:["Calendar ",(0,s.jsx)("button",{onClick:()=>Z(e=>({...e,calendar:!1})),children:"\xd7"})]}),(0,s.jsx)("div",{className:r().floatList,children:_.slice(0,5).map(e=>(0,s.jsxs)("div",{children:["• ",e["Event Name"]," (",e.Date,")"]},e.id))})]}),K.tasks&&(0,s.jsxs)("div",{className:r().floatingWindow,style:{bottom:"130px"},children:[(0,s.jsxs)("h4",{children:["Tasks ",(0,s.jsx)("button",{onClick:()=>Z(e=>({...e,tasks:!1})),children:"\xd7"})]}),(0,s.jsx)("div",{className:r().floatList,children:y.slice(0,5).map(e=>(0,s.jsxs)("div",{children:["• ",e["Task Name"]," - ",e.Status]},e.id))})]}),K.history&&(0,s.jsxs)("div",{className:r().floatingWindow,style:{bottom:"190px"},children:[(0,s.jsxs)("h4",{children:["History ",(0,s.jsx)("button",{onClick:()=>Z(e=>({...e,history:!1})),children:"\xd7"})]}),(0,s.jsx)("div",{className:r().floatList,children:k.slice(0,5).map(e=>(0,s.jsxs)("div",{children:["• ",e.Action,": ",e.Details]},e.id))})]})]})}},8518:function(e){e.exports={mainContainer:"page_mainContainer__HWWsc",topNav:"page_topNav__2BcyD",toolsBar:"page_toolsBar__zuxbh",searchWrapper:"page_searchWrapper__azxkl",btnSecondary:"page_btnSecondary__s2OE4",btnDanger:"page_btnDanger__WK_5e",rowSelected:"page_rowSelected__YZom9",logoContainer:"page_logoContainer__m2mQ4",logoText:"page_logoText__M1jdM",menuTabs:"page_menuTabs__11Wv9",tab:"page_tab__ybEkW",activeTab:"page_activeTab__imdC0",content:"page_content___38fW",dashboardGrid:"page_dashboardGrid__7ACKK",statCard:"page_statCard__WFWBf",statLabel:"page_statLabel__2jNx3",statValue:"page_statValue__tVgp7",tableCard:"page_tableCard__IZ6pm",tableHeader:"page_tableHeader__sQsUH",searchBox:"page_searchBox__qHTI_",btnPrimary:"page_btnPrimary__d_sTc",tableWrapper:"page_tableWrapper__uHVlV",dataTable:"page_dataTable__toMCh",modalOverlay:"page_modalOverlay__29caG",modalContent:"page_modalContent__P5a3v",formGroup:"page_formGroup__SWXkg",formInput:"page_formInput__j2g1R",selectInput:"page_selectInput__uFPrH",formGrid:"page_formGrid__iGp3j",badge:"page_badge__0mJr3",badgeSuccess:"page_badgeSuccess__Zrn92",badgeWarning:"page_badgeWarning__iGKKA",avatar:"page_avatar__TRVZZ",floatingAi:"page_floatingAi__RcriR",aiToggle:"page_aiToggle__1v5TQ",aiWindow:"page_aiWindow__C2zbS",slideUp:"page_slideUp___dulW",aiHeader:"page_aiHeader__4pU2B",aiBody:"page_aiBody__DAUy3",aiMsg:"page_aiMsg__wKSQR",userMsg:"page_userMsg__YWbIF",aiInput:"page_aiInput__kRGjx",aiRecs:"page_aiRecs__dqLY_",floatingDock:"page_floatingDock__72_U9",floatingWindow:"page_floatingWindow__iXmPV",floatList:"page_floatList__qrK7s",columnPicker:"page_columnPicker__EsVAR",pickerContent:"page_pickerContent__D8Xqf",pickerItem:"page_pickerItem__A80_t",actionCell:"page_actionCell__ZNO_e",btnAction:"page_btnAction__sTlPZ","animate-fade":"page_animate-fade__PylMk",fadeIn:"page_fadeIn__jjObi"}}},function(e){e.O(0,[851,117,401,302,971,23,744],function(){return e(e.s=1738)}),_N_E=e.O()}]);